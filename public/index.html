<!doctype html>
<html lang="en_US">
<head>

<link rel="icon" type="image/x-icon" href="favicon.ico">

<link
rel="stylesheet"
href="https://unpkg.com/simplebar@latest/dist/simplebar.css"
/>
<script src="https://unpkg.com/simplebar@latest/dist/simplebar.min.js"></script>
<!-- or -->
<link
rel="stylesheet"
href="https://cdn.jsdelivr.net/npm/simplebar@latest/dist/simplebar.css"
/>
<script src="https://cdn.jsdelivr.net/npm/simplebar@latest/dist/simplebar.min.js"></script>
<meta charset="UTF-8">
<title>EmpaChat</title>


<style>
 

/* Globale Schriftart setzen (weniger "schnörkelig") */
body {
  font-family: sans-serif;
  overflow-y: hidden;
}

.gradient {
  color: #111; font-family: 'Helvetica Neue', sans-serif; font-size: 15px; font-weight: bold; letter-spacing: -1px; line-height: 1; text-align: center;
}

.maintitle {
  color: #111; font-family: 'Helvetica Neue', sans-serif; font-size: 130px; font-weight: bold; letter-spacing: -1px; line-height: 1; text-align: center;
}

.center {
  display: block;
  margin-left: auto;
  margin-right: auto;
  width: 85%;
}

.bottomInput {
  position: relative;
   width: 100%;
   bottom: 40px;
      /* Height of the footer */
   padding: none;
   outline: none;

}

.inputMessage {
  border-radius: 18px;
  padding: 10px;
  position: fixed;
  background-color: white;
  color: black;
  height:30px;
  width: 100%;
  bottom:20px;
  width: 97%;
  font-size: large;

}
.usernameInput {
    display: flex;
    justify-content: center;
    align-items: center;
    text-decoration: none;
    padding: 10px 20px;
    width: 96%;
    border: none; 
    outline: none; 
    border-radius: 4px;
    background: #dd3e54;  /* fallback for old browsers */
    background: -webkit-linear-gradient(to right, #6be585, #dd3e54);  /* Chrome 10-25, Safari 5.1-6 */
    background: linear-gradient(to right, #6be585, #dd3e54); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
    color: black;
    font-size: large;
    text-align: center;
    
}

    
/* Chat-Seite initial ausblenden */
.chat.page {
  display: none;
}


.unfinished {
  color:grey;
  font-style: italic;
}

.complete {
  color: white;
  /*font-weight: bold;*/
}
.username{
  font-weight: bold;
  margin-right: 5px;
}

.messages {
  position: relative;
  justify-content: center;
  margin-left: 5px;
  padding-left: 5px;
  list-style-type: none;
  bottom:20px;
  
}
.messages li{
  padding: 3px;
  /*background-color: #0096FF;*/
  border-radius: 10px;
  margin-top: 5px;
  padding-left: 5px;
  color:black;
  font-size: 20px;
  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.2);
  height: auto;
  vertical-align: middle;
}


/* Format für Benutzernamen bei der Ausgabe einer Chat-Nachricht */

.otherUser{
  text-align: left;
  width: 50%;
}


.currentUser{
  text-align: left;
  position: relative;
  left: 52%;
  width: 47.6%;

}

.background::-webkit-scrollbar {
    display: none; /* for Chrome, Safari, and Opera */
}

.background {
  width: 100%;
  background-color: white;
}

#simple-bar {
  overflow-y: scroll; 
  overflow-x: hidden;
  height: 80%;
  min-height: 80%;
  max-height: 450px;
}
.log {
  position: relative;
  color: white;
  font-size: 15px;
  text-align: center;
}

#list {
  height: 100%;
  min-height: 100%;
}

.emotionImages {
  height: 45px;
  width: auto;
  padding: 10px;
  margin-left: 5px;
}
.Happy {
  background-color: #40E0D0;      
}

.Sad {
  background-color:  #6495ED ;
}

.Angry {
  background-color:  #DE3163 ;
}

.Neutral {
  background-color: #CCCCFF;
}

.Surprise {
  background-color: #DFFF00;
}

.Disgust {
  background-color: #FFBF00; 
}

.Fear {
  background-color: #FF7F50;
}

.undefined {
  background-color: #d3d3d3;
}

.hide {
  visibility: hidden;
}

.gradient span {
  background: #dd3e54;  /* fallback for old browsers */
  background: -webkit-linear-gradient(to right, #6be585, #dd3e54);  /* Chrome 10-25, Safari 5.1-6 */
  background: linear-gradient(to right, #6be585, #dd3e54); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */

    background-size: 100%;
    -webkit-background-clip: text;
    -moz-background-clip: text;
    -webkit-text-fill-color: transparent;
    -moz-text-fill-color: transparent;
}

.maintitle span{
  background: #dd3e54;  /* fallback for old browsers */
  background: -webkit-linear-gradient(to right, #6be585, #dd3e54);  /* Chrome 10-25, Safari 5.1-6 */
  background: linear-gradient(to right, #6be585, #dd3e54); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */

    background-size: 100%;
    -webkit-background-clip: text;
    -moz-background-clip: text;
    -webkit-text-fill-color: transparent;
    -moz-text-fill-color: transparent;
}
.title {
  color: #111; font-family: 'Helvetica Neue', sans-serif; font-size: 50px; font-weight: bold; letter-spacing: -1px; line-height: 1; text-align: center;

}

</style>
</head>
<body>
<!-- Login-Seite -->
<div class="login page">

<img src="main_pic.png" alt="EmpaChat" class="center">
<h2></h2>

<input class="usernameInput" type="text" maxlength="14" />

</div>

<!-- Chat-Seite (initial ausgeblendet) -->
<div class="chat page">
<h3 class = gradient>Welcome to <b><span>EmpaChat</span></b></h3>
<div class="background", id="simple-bar"><ul id ="list" class="messages" ></ul></div>
<h3 class="bottomInput"><input class="inputMessage" placeholder="Type here..." /></h3>

</div>


  <div id="age" class="hide">Age: -</div>
  <div id="gender" class="hide">Gender: -</div>
  <div id="emotion" class="hide"  >Happy</div>
  <div id="features" class="hide">Face Features: -</div>
  <div id="arousal" class="hide">Arrousal: -</div>
  <div id="Uncomfortable" class="hide">Uncomfortable: -</div>
  <div id="Excited" class="hide">Excited: -</div>
  <div id="Satisfied" class="hide">Satisfied: -</div>


<!-- Programmcode auf der Client-Seite -->
<script src="https://sdk.morphcast.com/mphtools/v1.0/mphtools.js"></script>
<script src="https://ai-sdk.morphcast.com/v1.14/ai-sdk.js"></script>
<script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
<script src="/socket.io/socket.io.js"></script>
<script src="/main.js"></script>


<script>
  
  CY.loader()
     .licenseKey("e09a5d3d51ee442a8bb1ce0bdb52a1dc4257cd78c3b8")
     .addModule(CY.modules().FACE_AGE.name)
     .addModule(CY.modules().FACE_GENDER.name)
     .addModule(CY.modules().FACE_EMOTION.name)
     .load()
     .then(({ start, stop }) => start());
  
  const age_div = document.querySelector("#age");
  const gen_div = document.querySelector("#gender");
  const emo_div = document.querySelector("#emotion");
  const fet_div = document.querySelector("#features");
  const arr_div = document.querySelector("#arousal");
  const arr1_div = document.querySelector("#Uncomfortable");
  const arr2_div = document.querySelector("#Excited");
  const arr3_div = document.querySelector("#Satisfied");
  
  /*8window.addEventListener(CY.modules().FACE_AGE.eventName, (evt) => {
   age_div.innerHTML = 'Age: ' + evt.detail.output.numericAge;
  });
  
  window.addEventListener(CY.modules().FACE_GENDER.eventName, (evt) => {
   gen_div.innerHTML = 'Gender: ' + evt.detail.output.mostConfident;
  });*/
  
  window.addEventListener(CY.modules().FACE_EMOTION.eventName, (evt) => {
   emo_div.innerHTML = evt.detail.output.dominantEmotion;
  });

  /*window.addEventListener(CY.modules().FACE_FEATURES.eventName, (evt) => {
    fet_div.innerHTML = 'Attractivness: ' + evt.detail.output.features.Attractive;
  });
  window.addEventListener(CY.modules().FACE_AROUSAL_VALENCE.eventName, (evt) => {
    arr_div.innerHTML = 'Annoyed: ' + evt.detail.output.affects38.Annoyed;
  });
  window.addEventListener(CY.modules().FACE_AROUSAL_VALENCE.eventName, (evt) => {
    arr1_div.innerHTML = 'Uncomfortable: ' + evt.detail.output.affects38.Uncomfortable;
  });
  window.addEventListener(CY.modules().FACE_AROUSAL_VALENCE.eventName, (evt) => {
    arr2_div.innerHTML = 'Excited: ' + evt.detail.output.affects38.Excited;
  });
  window.addEventListener(CY.modules().FACE_AROUSAL_VALENCE.eventName, (evt) => {
    arr3_div.innerHTML = 'Satisfied: ' + evt.detail.output.affects38.Satisfied;
  });*/
  
  </script>
</body>
</html>