<!doctype html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Emphatic Text Bot</title>

<style>
 

/* Globale Schriftart setzen (weniger "schnörkelig") */
body {
  font-family: sans-serif;
}
.maintitle {
  color: #111; font-family: 'Helvetica Neue', sans-serif; font-size: 100px; font-weight: bold; letter-spacing: -1px; line-height: 1; text-align: center;
}

.bottomInput {
  position: relative;
   width: 100%;
   bottom: 40px;
      /* Height of the footer */
   padding: none;
   outline: none;

}

.inputMessage {
  background-color: #333333;
  color: white;
  width: 98%;
  top:20px;
}
.usernameInput {
  color: white;
  background-color: #333333;
  width: 20%;
  top: 20px;
}

    
/* Chat-Seite initial ausblenden */
.chat.page {
  display: none;
}


.unfinished {
  color:grey;
}

.complete {
  color: white;
}
.username{
  font-weight: bold;
  margin-right: 5px;
}

.happy {
  background-color: green;
}
.messages {
  list-style-type: none;
  padding: 2px;
}
.messages li{

  padding: 3px;
  border-radius: 5px;
  margin-top: 5px;
}


/* Format für Benutzernamen bei der Ausgabe einer Chat-Nachricht */

.otherUser{
  text-align: left;
  background-color: #333333;
  width: 50%;
  font-size: 15px;

}


.currentUser{
  text-align: right;
  position: relative;
  background-color: #333333;
  left: 52%;
  width: 47%;
  font-size: 15px;

}
.background {
  overflow-y: scroll; 
  overflow-x: hidden;
  height: 400px;
  width: 100%;
  background-color: #333333;
}
.log {
  position: relative;
  color: white;
  font-size: 15px;
  text-align: center;
}
.Happy {
  border-style: solid;
  border-color: #89ffcc;
  border-width: 2px;
  
}

.Sad {
  border-style: solid;
  border-color: #54fffb;
  border-width: 2px;
}

.Angry {
  border-style: solid;
  border-color: #ff9a55;
  border-width: 2px;
}

.Neutral {
  border-style: solid;
  border-color: #D3D3D3;
  border-width: 2px;
}

.Surprise {
  border-style: solid;
  border-color: #e7b2ff;
  border-width: 2px;

}

.Disgust {
  border-style: solid;
  border-color: #8B0000;
  border-width: 2px;
}

.hide {
  visibility: hidden;
}
.maintitle span{
  background: #dd3e54;  /* fallback for old browsers */
  background: -webkit-linear-gradient(to right, #6be585, #dd3e54);  /* Chrome 10-25, Safari 5.1-6 */
  background: linear-gradient(to right, #6be585, #dd3e54); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */

    background-size: 100%;
    -webkit-background-clip: text;
    -moz-background-clip: text;
    -webkit-text-fill-color: transparent;
    -moz-text-fill-color: transparent;
}

</style>
</head>
<body>
<!-- Login-Seite -->
<div class="login page">
<h2 class="maintitle">Hello and welcome to our <span>empathic</span> Chat Bot</h2>
<h3 class="title">Tell me your name</h3>
<input class="usernameInput" type="text" maxlength="14" />

</div>

<!-- Chat-Seite (initial ausgeblendet) -->
<div class="chat page">
<h3 class="title">Chatting</h3>
<div class="background"><ul id ="list" class="messages" ></ul></div>

<h3 class="bottomInput"><input class="inputMessage" placeholder="Type here..." /></h3>

</div>


  <div id="age" class="hide">Age: -</div>
  <div id="gender" class="hide">Gender: -</div>
  <div id="emotion" class="hide"  >Emotion: -</div>
  <div id="features" class="hide">Face Features: -</div>
  <div id="arousal" class="hide">Arrousal: -</div>
  <div id="Uncomfortable" class="hide">Uncomfortable: -</div>
  <div id="Excited" class="hide">Excited: -</div>
  <div id="Satisfied" class="hide">Satisfied: -</div>


<!-- Programmcode auf der Client-Seite -->
<script src="https://sdk.morphcast.com/mphtools/v1.0/mphtools.js"></script>
<script src="https://ai-sdk.morphcast.com/v1.14/ai-sdk.js"></script>
<script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
<script src="/socket.io/socket.io.js"></script>
<script src="/main.js"></script>


<script>
  CY.loader()
     .licenseKey("a49a0cf63e37382813f95b8bdea40c304cd3b835586f")
     .addModule(CY.modules().FACE_AGE.name)
     .addModule(CY.modules().FACE_GENDER.name)
     .addModule(CY.modules().FACE_EMOTION.name)
     .load()
     .then(({ start, stop }) => start());
  
  const age_div = document.querySelector("#age");
  const gen_div = document.querySelector("#gender");
  const emo_div = document.querySelector("#emotion");
  const fet_div = document.querySelector("#features");
  const arr_div = document.querySelector("#arousal");
  const arr1_div = document.querySelector("#Uncomfortable");
  const arr2_div = document.querySelector("#Excited");
  const arr3_div = document.querySelector("#Satisfied");
  
  window.addEventListener(CY.modules().FACE_AGE.eventName, (evt) => {
   age_div.innerHTML = 'Age: ' + evt.detail.output.numericAge;
  });
  
  window.addEventListener(CY.modules().FACE_GENDER.eventName, (evt) => {
   gen_div.innerHTML = 'Gender: ' + evt.detail.output.mostConfident;
  });
  
  window.addEventListener(CY.modules().FACE_EMOTION.eventName, (evt) => {
   emo_div.innerHTML = evt.detail.output.dominantEmotion;
  });
  window.addEventListener(CY.modules().FACE_FEATURES.eventName, (evt) => {
    fet_div.innerHTML = 'Attractivness: ' + evt.detail.output.features.Attractive;
  });

  window.addEventListener(CY.modules().FACE_AROUSAL_VALENCE.eventName, (evt) => {
    arr_div.innerHTML = 'Annoyed: ' + evt.detail.output.affects38.Annoyed;
  });
  window.addEventListener(CY.modules().FACE_AROUSAL_VALENCE.eventName, (evt) => {
    arr1_div.innerHTML = 'Uncomfortable: ' + evt.detail.output.affects38.Uncomfortable;
  });
  window.addEventListener(CY.modules().FACE_AROUSAL_VALENCE.eventName, (evt) => {
    arr2_div.innerHTML = 'Excited: ' + evt.detail.output.affects38.Excited;
  });
  window.addEventListener(CY.modules().FACE_AROUSAL_VALENCE.eventName, (evt) => {
    arr3_div.innerHTML = 'Satisfied: ' + evt.detail.output.affects38.Satisfied;
  });
  
  </script>
</body>
</html>